<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Monitor - Simplified</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üîç AWS Monitor</h1>
            <p>Monitor AWS and Kubernetes resources across regions</p>
        </header>

        <!-- Region Selection -->
        <section class="card">
            <h2>1. Select Regions</h2>
            <div id="region-selection">
                <label><input type="checkbox" value="us-east-1" checked> us-east-1 (N. Virginia)</label>
                <label><input type="checkbox" value="us-west-2" checked> us-west-2 (Oregon)</label>
                <label><input type="checkbox" value="us-west-1"> us-west-1 (N. California)</label>
                <label><input type="checkbox" value="eu-west-1"> eu-west-1 (Ireland)</label>
                <label><input type="checkbox" value="eu-central-1"> eu-central-1 (Frankfurt)</label>
                <label><input type="checkbox" value="ap-southeast-1"> ap-southeast-1 (Singapore)</label>
                <label><input type="checkbox" value="ap-northeast-1"> ap-northeast-1 (Tokyo)</label>
                <button id="load-more-regions">Load All Regions</button>
            </div>
            <p class="info">‚ÑπÔ∏è Regions are auto-selected. Your AWS profile 'monitor' must have access to selected regions.</p>
        </section>

        <!-- Resource Filters -->
        <section class="card">
            <h2>2. Select Resource Types to Discover</h2>
            <div class="checkbox-group" id="resource-type-selection">
                <label><input type="checkbox" class="resource-type-filter" value="ec2" checked> EC2 Instances</label>
                <label><input type="checkbox" class="resource-type-filter" value="rds" checked> RDS Databases</label>
                <label><input type="checkbox" class="resource-type-filter" value="s3" checked> S3 Buckets</label>
                <label><input type="checkbox" class="resource-type-filter" value="lambda" checked> Lambda Functions</label>
                <label><input type="checkbox" class="resource-type-filter" value="ebs" checked> EBS Volumes</label>
                <label><input type="checkbox" class="resource-type-filter" value="eks" checked> EKS Clusters (Kubernetes)</label>
                <label><input type="checkbox" class="resource-type-filter" value="emr" checked> EMR Clusters</label>
            </div>
            <div style="margin-top: 10px;">
                <button id="select-all-types" class="secondary-btn">Select All</button>
                <button id="deselect-all-types" class="secondary-btn">Deselect All</button>
                <button id="select-common-types" class="secondary-btn">Common Only (EC2, RDS, S3)</button>
            </div>
            <p class="info">‚ÑπÔ∏è Select only the resource types you need for faster discovery.</p>
        </section>

        <!-- Resource Filters -->
        <section class="card">
            <h2>3. Filter Resources (Optional)</h2>
            <div class="filters">
                <div class="filter-group">
                    <label>By Tag:</label>
                    <input type="text" id="filter-tag-key" placeholder="Key (e.g., Environment)">
                    <input type="text" id="filter-tag-value" placeholder="Value (e.g., production)">
                </div>
                <div class="filter-group">
                    <label>By Name:</label>
                    <input type="text" id="filter-names" placeholder="Names (comma-separated)">
                </div>
                <div class="filter-group">
                    <label>By ID:</label>
                    <input type="text" id="filter-ids" placeholder="IDs (comma-separated)">
                </div>
            </div>
        </section>

        <!-- Discover Resources -->
        <section class="card">
            <h2>4. Discover Resources</h2>
            <button id="discover-btn" class="primary-btn">üîç Discover Resources</button>
            <div id="discover-status" class="status"></div>
            <div id="resource-summary"></div>
            <div id="resource-list"></div>
        </section>

        <!-- Performance Metrics -->
        <section class="card">
            <h2>5. Performance Metrics</h2>
            <p style="color: #666; margin-bottom: 15px;">
                <strong>üí° Tip:</strong> Check the boxes ‚òëÔ∏è next to resources above, then click "Get Metrics"
            </p>
            <button id="metrics-btn" class="primary-btn" disabled>üìä Get Metrics</button>
            <div class="options">
                <label>Period:
                    <select id="metrics-period">
                        <option value="300">5 minutes</option>
                        <option value="900">15 minutes</option>
                        <option value="3600">1 hour</option>
                    </select>
                </label>
            </div>
            <div id="metrics-results"></div>
        </section>

        <!-- Cost Analysis -->
        <section class="card">
            <h2>6. Cost Analysis</h2>
            <button id="cost-btn" class="primary-btn">üí∞ Analyze Costs</button>
            <div class="options">
                <label>Days:
                    <select id="cost-days">
                        <option value="7">Last 7 days</option>
                        <option value="30">Last 30 days</option>
                        <option value="90">Last 90 days</option>
                    </select>
                </label>
            </div>
            <div id="cost-results"></div>
        </section>

        <!-- Alerts & Health -->
        <section class="card">
            <h2>7. Alerts & Health</h2>
            <p style="color: #666; margin-bottom: 15px;">
                <strong>üí° Tip:</strong> Check the boxes ‚òëÔ∏è next to resources above, then click "Check Alerts"
            </p>
            <button id="alerts-btn" class="primary-btn" disabled>‚ö†Ô∏è Check Alerts</button>
            <div class="options">
                <label>CPU Threshold: <input type="number" id="threshold-cpu" value="80" min="0" max="100">%</label>
                <label>Memory Threshold: <input type="number" id="threshold-memory" value="85" min="0" max="100">%</label>
            </div>
            <div id="alerts-results"></div>
        </section>

        <!-- Generate Script -->
        <section class="card">
            <h2>8. Generate Monitoring Script</h2>
            <p>Select resources and generate a Python script you can schedule with cron or Python scheduler.</p>
            
            <div class="script-config">
                <h3>Select Resource Types:</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" class="resource-type-check" value="ec2" checked> EC2</label>
                    <label><input type="checkbox" class="resource-type-check" value="rds" checked> RDS</label>
                    <label><input type="checkbox" class="resource-type-check" value="s3"> S3</label>
                    <label><input type="checkbox" class="resource-type-check" value="lambda"> Lambda</label>
                    <label><input type="checkbox" class="resource-type-check" value="eks"> Kubernetes (EKS)</label>
                    <label><input type="checkbox" class="resource-type-check" value="emr"> EMR</label>
                </div>

                <h3>Select Checks:</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" class="check-type" value="performance" checked> Performance Metrics</label>
                    <label><input type="checkbox" class="check-type" value="cost" checked> Cost Analysis</label>
                    <label><input type="checkbox" class="check-type" value="alerts" checked> Alerts & Failover</label>
                </div>

                <h3>Notification (Optional):</h3>
                <input type="email" id="notification-email" placeholder="Email for alerts (optional)">
            </div>

            <button id="generate-script-btn" class="primary-btn">üìù Generate Script</button>
            <div id="script-status" class="status"></div>
        </section>

    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
